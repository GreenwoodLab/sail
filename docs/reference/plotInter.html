<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Plot Interaction Effects from sail object — plotInter • sail</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
<meta property="og:title" content="Plot Interaction Effects from sail object — plotInter" />

<meta property="og:description" content="Takes a fitted sail object produced by sail() or
  cv.sail()$sail.fit and plots a persp for a
  pre-specified variable at a given value of lambda and on the scale of the
  linear predictor. Currently only implemented for type="gaussian"" />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->




<!-- docsearch -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sail</a>
        <span class="label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased package">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/introduction-to-sail.html">Introduction to sail</a>
    </li>
    <li>
      <a href="../articles/user-defined-design.html">User defined design matrix</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Functions and data</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/sahirbhatnagar/sail">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot Interaction Effects from sail object</h1>
    <small>Source: <a href='https://github.com/sahirbhatnagar/sail/blob/master/R/plot.R'><code>R/plot.R</code></a></small>
    <div class="hidden name"><code>plotInter.Rd</code></div>
    </div>

    
    <p>Takes a fitted sail object produced by <code><a href='sail.html'>sail()</a></code> or
  <code>cv.sail()$sail.fit</code> and plots a <code><a href='http://www.rdocumentation.org/packages/graphics/topics/persp'>persp</a></code> for a
  pre-specified variable at a given value of lambda and on the scale of the
  linear predictor. Currently only implemented for <code>type="gaussian"</code></p>
    

    <pre class="usage"><span class='fu'>plotInter</span>(<span class='no'>object</span>, <span class='no'>x</span>, <span class='no'>xvar</span>, <span class='no'>s</span>, <span class='no'>f.truth</span>, <span class='kw'>interation.only</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>truthonly</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>npoints</span> <span class='kw'>=</span> <span class='fl'>30</span>, <span class='kw'>col</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"#56B4E9"</span>, <span class='st'>"#D55E00"</span>),
  <span class='kw'>title_z</span> <span class='kw'>=</span> <span class='st'>""</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>a fitted <code>sail</code> object as produced by <code><a href='sail.html'>sail()</a></code> or
<code>cv.sail()$sail.fit</code></p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>original data supplied to the original call to <code><a href='sail.html'>sail</a></code></p></td>
    </tr>
    <tr>
      <th>xvar</th>
      <td><p>a character corresponding to the predictor to be plotted. Only
one variable name should be supplied, if more than one is supplied, only
the first element will be plotted. This variable name must be in
<code>colnames(x)</code>.</p></td>
    </tr>
    <tr>
      <th>s</th>
      <td><p>a single value of the penalty parameter <code>lambda</code> at which
coefficients will be extracted via the <code>coef</code> method for objects of
class <code>"sail"</code>. If more than one is supplied, only the first one will
be used.</p></td>
    </tr>
    <tr>
      <th>f.truth</th>
      <td><p>true function. Only used for simulation purposes when the
truth is known. The function takes as a input two numeric vectors e.g.
<code>f(x,e)</code> corresponding the <code>xvar</code> column in <code>x</code> of length
<code>nrow(x)</code> and the exposure variable contained in the <code>sail
object</code>. A second <code>persp</code> will be plotted for the truth</p></td>
    </tr>
    <tr>
      <th>interation.only</th>
      <td><p>if <code>TRUE</code> only the interaction part is used to
calculate the linear predictor, i.e., \(linear predictor = E * f(X) *
interaction_effects\). If <code>FALSE</code>, then \(linear predictor = E *
\beta_E + f(X) * interaction_effects + E * f(X) * interaction_effects\).
Default: TRUE</p></td>
    </tr>
    <tr>
      <th>truthonly</th>
      <td><p>only plot the truth. <code>f.truth</code> must be specified if
this argument is set to <code>TRUE</code>. Default: FALSE</p></td>
    </tr>
    <tr>
      <th>npoints</th>
      <td><p>number of points in the grid to calculate the perspective
plot. Default: 30</p></td>
    </tr>
    <tr>
      <th>col</th>
      <td><p>color of the line. The first element corresponds to the color used
for the estimated function and the second element is for the true function
(if <code>f.truth</code> is specified). Default: c("#D55E00", "#009E73")</p></td>
    </tr>
    <tr>
      <th>title_z</th>
      <td><p>title for the plot, Default: ''</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>currently ignored</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A plot is produced and nothing is returned</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='http://www.rdocumentation.org/packages/graphics/topics/persp'>persp</a></code> <code><a href='predict.sail.html'>coef.sail</a></code>
  <code><a href='predict.sail.html'>predict.sail</a></code>, <code><a href='http://www.rdocumentation.org/packages/graphics/topics/rug'>rug</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span>(<span class='fu'>interactive</span>()){
<span class='co'># Parallel</span>
<span class='fu'>library</span>(<span class='no'>doMC</span>)
<span class='fu'><a href='http://www.rdocumentation.org/packages/doMC/topics/registerDoMC'>registerDoMC</a></span>(<span class='kw'>cores</span> <span class='kw'>=</span> <span class='fl'>4</span>)
<span class='fu'>data</span>(<span class='st'>"sailsim"</span>)
<span class='no'>f.basis</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>i</span>) <span class='kw pkg'>splines</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/splines/topics/bs'>bs</a></span>(<span class='no'>i</span>, <span class='kw'>degree</span> <span class='kw'>=</span> <span class='fl'>5</span>)
<span class='no'>cvfit</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='cv.sail.html'>cv.sail</a></span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>sailsim</span>$<span class='no'>x</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>sailsim</span>$<span class='no'>y</span>, <span class='kw'>e</span> <span class='kw'>=</span> <span class='no'>sailsim</span>$<span class='no'>e</span>,
                 <span class='kw'>basis</span> <span class='kw'>=</span> <span class='no'>f.basis</span>, <span class='kw'>nfolds</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>parallel</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='co'># plot cv-error curve</span>
<span class='fu'>plot</span>(<span class='no'>cvfit</span>)
<span class='co'># non-zero estimated coefficients at lambda.min</span>
<span class='fu'>predict</span>(<span class='no'>cvfit</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"nonzero"</span>, <span class='kw'>s</span><span class='kw'>=</span><span class='st'>"lambda.min"</span>)
<span class='co'># plot interaction effect for X4 and the true interaction effect also</span>
<span class='fu'>plotInter</span>(<span class='no'>cvfit</span>$<span class='no'>sail.fit</span>, <span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>sailsim</span>$<span class='no'>x</span>, <span class='kw'>xvar</span> <span class='kw'>=</span> <span class='st'>"X3"</span>,
          <span class='kw'>f.truth</span> <span class='kw'>=</span> <span class='no'>sailsim</span>$<span class='no'>f4.inter</span>,
          <span class='kw'>s</span> <span class='kw'>=</span> <span class='no'>cvfit</span>$<span class='no'>lambda.min</span>,
          <span class='kw'>title_z</span> <span class='kw'>=</span> <span class='st'>"Estimated"</span>)
 }</div><div class='img'><img src='plotInter-1.png' alt='' width='700' height='433' /></div><div class='img'><img src='plotInter-2.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='http://sahirbhatnagar.com'>Sahir Bhatnagar</a>, <a href='http://www.math.mcgill.ca/yyang/'>Yi Yang</a>, <a href='https://www.mcgill.ca/statisticalgenetics/'>Celia Greenwood</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script>
  docsearch({
    
    apiKey: 'f8a14d62b00c65f3af4a90aa62a286b8',
    indexName: 'sail',
    inputSelector: 'input#search-input.form-control',
    debug: false // Set debug to true if you want to inspect the dropdown
  });
</script>


  </body>
</html>

